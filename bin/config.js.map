{"version":3,"file":"config.js","sources":["../lib/config.ts"],"sourcesContent":["(\"use strict\");\nimport type {\n    WebpackPluginInstance,\n    ModuleOptions,\n    RuleSetRule,\n} from \"webpack\";\nexport type Configuration = import(\"webpack\").Configuration & {\n    entry: string[];\n    plugins: WebpackPluginInstance[];\n    module: ModuleOptions & { rules: RuleSetRule[] };\n} & { devServer: import(\"webpack-dev-server\").Configuration };\nexport function createconfig(\n    env: Record<string, any>,\n    argv: Record<string, any>\n): Configuration {\n    console.log(\"env:\", env, \"\\n\", \"argv:\", argv);\n\n    function resolvevueloadermodulepath() {\n        var vueversion;\n\n        try {\n            //@ts-ignore\n            vueversion = require(\"vue\").version;\n        } catch (e) {\n            if (e?.code === \"MODULE_NOT_FOUND\") {\n                return require.resolve(\"vue-loader\");\n            } else {\n                throw e;\n            }\n        }\n\n        if (\"3\" === vueversion.split(\".\")[0]) {\n            return require.resolve(\"vue-loader-16\");\n        } else {\n            return require.resolve(\"vue-loader\");\n        }\n    }\n\n    // const ReactRefreshTypeScript = require(\"react-refresh-typescript\");\n    const ForkTsCheckerWebpackPlugin = require(\"fork-ts-checker-webpack-plugin\");\n    // const ReactRefreshWebpackPlugin = require(\"@pmmmwh/react-refresh-webpack-plugin\");\n    const fs = require(\"fs\");\n    const CopyPlugin = require(\"copy-webpack-plugin\");\n    const WorkboxWebpackPlugin = require(\"workbox-webpack-plugin\");\n    const safePostCssParser = require(\"postcss-safe-parser\");\n    const OptimizeCSSAssetsPlugin = require(\"optimize-css-assets-webpack-plugin\");\n    const TerserPlugin = require(\"terser-webpack-plugin\");\n    const { VueLoaderPlugin } = require(resolvevueloadermodulepath());\n    const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\n    const path = require(\"path\");\n    const HtmlWebpackPlugin = require(\"html-webpack-plugin\");\n    const webpack = require(\"webpack\");\n    const postcssNormalize = require(\"postcss-normalize\");\n\n    const PreloadWebpackPlugin = require(\"@vue/preload-webpack-plugin\");\n\n    const { CleanWebpackPlugin } = require(\"clean-webpack-plugin\");\n\n    const 参数object = argv;\n\n    const 解析参数publicpath = 参数object[\"output-public-path\"];\n    const mode = 参数object[\"mode\"];\n    process.env.NODE_ENV =\n        参数object[\"mode\"] === \"production\"\n            ? \"production\"\n            : 参数object[\"mode\"] === \"development\"\n            ? \"development\"\n            : process.env.NODE_ENV;\n    // const isDevelopment = process.env.NODE_ENV !== \"production\";\n    const defaultport = 10000;\n    const port =\n        Number(参数object[\"port\"]) ||\n        defaultport + parseInt(String(10000 * Math.random()));\n    console.log(`\\nwebpack config filename : ${__filename}\\n`);\n    console.log(`\\nworking directory : ${process.cwd()}\\n`);\n    var __dirname = process.cwd();\n    console.log(`\\nwebpack mode : ${process.env.NODE_ENV} \\n`);\n    const webpackEnv = process.env.NODE_ENV;\n    const isEnvDevelopment = \"development\" === webpackEnv;\n    const shouldUseSourceMap = isEnvDevelopment;\n    const isEnvProduction = \"production\" === webpackEnv;\n    process.env.BABEL_ENV = process.env.NODE_ENV;\n    let publicPath = isEnvProduction ? \"./\" : \"/\";\n    if (\"production\" === process.env.NODE_ENV) {\n        if (解析参数publicpath) {\n            if (解析参数publicpath.length) {\n                console.log(`  output-public-path  :  ${解析参数publicpath}`);\n                console.log(\"\\n\");\n                publicPath = 解析参数publicpath;\n            }\n        }\n    }\n    const isservemode = !!env.WEBPACK_SERVE;\n    if (isEnvDevelopment && isservemode) {\n        console.log(\"open in browser: http://localhost:\" + port);\n    }\n    const srcfoldepath = path.join(__dirname, \"src\");\n    const config: Configuration = {\n        stats: {\n            children: true,\n        },\n        target: isEnvDevelopment\n            ? \"web\"\n            : \"browserslist:\" +\n              [\">0.2%\", \"not dead\", \"not op_mini all\"].join(\",\"),\n        resolve: {\n            extensions: [\".ts\", \".js\", \".tsx\", \".jsx\", \".cjs\", \".mjs\"],\n\n            alias: {\n                \"@\": path.join(__dirname, \"src\"),\n            },\n        },\n        devServer: {\n            overlay: true,\n\n            host: \"0.0.0.0\",\n            compress: true,\n            historyApiFallback: true,\n            contentBase: path.resolve(__dirname, \"./public\"),\n            hot: !0,\n            port,\n            inline: !0,\n            watchContentBase: !0,\n        },\n        devtool: isEnvDevelopment ? \"eval-cheap-module-source-map\" : false,\n        mode: mode,\n        entry: [\n            fs.existsSync(path.join(__dirname, \"src\", \"index.tsx\"))\n                ? path.join(__dirname, \"src\", \"index.tsx\")\n                : fs.existsSync(path.join(__dirname, \"src\", \"index.ts\"))\n                ? path.join(__dirname, \"src\", \"index.ts\")\n                : fs.existsSync(path.join(__dirname, \"src\", \"index.jsx\"))\n                ? path.join(__dirname, \"src\", \"index.jsx\")\n                : path.join(__dirname, \"src\", \"index.js\"),\n        ].filter(Boolean),\n        output: {\n            publicPath,\n            globalObject: `(typeof WorkerGlobalScope !== \"undefined\"?\n\nWorkerGlobalScope:\n\ntypeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : ( Function('return this')()))`,\n            filename: isEnvDevelopment\n                ? \"[name].[fullhash].js\"\n                : \"[name].[contenthash].js\",\n            path: path.join(__dirname, \"dist\"),\n            chunkFilename: isEnvDevelopment\n                ? \"[name].[fullhash].js\"\n                : \"[name].[contenthash].js\",\n        },\n        module: {\n            strictExportPresence: !0,\n            rules: [\n                {\n                    test: /\\.(js|mjs|jsx|ts|tsx)$/,\n                    type: \"javascript/auto\",\n                    loader: require.resolve(\"babel-loader\"),\n                    options: getbabelconfig(),\n                    include: [srcfoldepath],\n                    exclude: [/node_modules/],\n                },\n\n                {\n                    test: /\\.(less)$/,\n                    use: [\n                        isEnvDevelopment\n                            ? {\n                                  loader: require.resolve(\"style-loader\"),\n                                  options: {},\n                              }\n                            : {\n                                  loader: MiniCssExtractPlugin.loader,\n                              },\n                        {\n                            loader: require.resolve(\"css-loader\"),\n                            options: {\n                                importLoaders: 2,\n                                sourceMap: shouldUseSourceMap,\n                            },\n                        },\n                        {\n                            loader: require.resolve(\"postcss-loader\"),\n                            options: {\n                                postcssOptions: getpostcssoptions(),\n                                sourceMap: shouldUseSourceMap,\n                            },\n                        },\n                        {\n                            loader: require.resolve(\"less-loader\"),\n                            options: {\n                                sourceMap: shouldUseSourceMap,\n                            },\n                        },\n                    ],\n                },\n                {\n                    test: /\\.worker\\.(js|ts)$/,\n                    loader: require.resolve(\"worker-loader\"),\n                    options: {\n                        inline: \"no-fallback\",\n                    },\n                },\n                {\n                    test: /\\.vue$/,\n                    loader: require.resolve(resolvevueloadermodulepath()),\n                },\n                {\n                    test: /\\.(css|sass|scss)$/,\n                    use: [\n                        isEnvDevelopment\n                            ? {\n                                  loader: require.resolve(\"style-loader\"),\n                                  options: {},\n                              }\n                            : {\n                                  loader: MiniCssExtractPlugin.loader,\n                              },\n                        {\n                            loader: require.resolve(\"css-loader\"),\n                            options: {\n                                importLoaders: 2,\n                                sourceMap: shouldUseSourceMap,\n                            },\n                        },\n                        {\n                            loader: require.resolve(\"postcss-loader\"),\n                            options: {\n                                postcssOptions: getpostcssoptions(),\n                                sourceMap: shouldUseSourceMap,\n                            },\n                        },\n                        {\n                            loader: require.resolve(\"fast-sass-loader\"),\n                            options: {},\n                        },\n                    ],\n                },\n                // {\n                //     oneOf: [\n                //         {\n                //             test: [\n                //                 /\\.(png|jpg|jpeg|gif|webp|ico|bmp|svg)$/i,\n                //                 /\\.bmp$/,\n                //                 /\\.gif$/,\n                //                 /\\.jpe?g$/,\n                //                 /\\.png$/,\n                //                 /\\.svg$/,\n                //             ],\n                //             loader: require.resolve(\"url-loader\"),\n                //             options: {\n                //                 limit: 10000,\n                //                 name: isEnvDevelopment\n                //                     ? \"[path][name].[ext]\"\n                //                     : \"[name].[contenthash].[ext]\",\n                //             },\n                //         },\n\n                //         {\n                //             loader: require.resolve(\"file-loader\"),\n                //             exclude: [\n                //                 /\\.vue$/,\n                //                 /\\.(js|mjs|jsx|ts|tsx|cjs)$/,\n                //                 /\\.html$/,\n                //                 /\\.json$/,\n                //                 /\\.(css|scss|sass|less)$/,\n                //             ],\n                //             options: {\n                //                 name: isEnvDevelopment\n                //                     ? \"[path][name].[ext]\"\n                //                     : \"[name].[contenthash].[ext]\",\n                //             },\n                //         },\n                //     ],\n                // },\n\n                {\n                    test: /\\.(js|mjs)$/,\n                    exclude: [\n                        /@babel(?:\\/|\\\\{1,2})runtime/,\n                        path.resolve(__dirname, \"src\"),\n                    ],\n                    type: \"javascript/auto\",\n                    loader: require.resolve(\"babel-loader\"),\n                    options: {\n                        babelrc: !1,\n                        configFile: !1,\n                        compact: !1,\n                        presets: [\n                            isEnvProduction && [\n                                require.resolve(\"babel-preset-react-app\"),\n                                {},\n                            ],\n                            [\n                                require.resolve(\n                                    \"babel-preset-react-app/dependencies\"\n                                ),\n                                {\n                                    helpers: !0,\n                                },\n                            ],\n                        ].filter(Boolean),\n                        cacheDirectory: !0,\n                        cacheCompression: isEnvProduction,\n                        sourceMaps: shouldUseSourceMap,\n                    },\n                    include: [/node_modules/],\n                },\n\n                {\n                    test: /\\.(js|mjs|jsx|ts|tsx)$/,\n                    type: \"javascript/auto\",\n                    loader: require.resolve(\"babel-loader\"),\n                    options: {\n                        sourceMaps: shouldUseSourceMap,\n                        plugins: [].filter(Boolean),\n                        presets: [\n                            [\"@babel/preset-react\", { runtime: \"automatic\" }],\n                        ].filter(Boolean),\n\n                        babelrc: false,\n                        configFile: fs.existsSync(\n                            path.resolve(__dirname, \"babel.config.js\")\n                        )\n                            ? path.resolve(__dirname, \"babel.config.js\")\n                            : false,\n\n                        cacheDirectory: !0,\n                        cacheCompression: isEnvProduction,\n                        compact: isEnvProduction,\n                    },\n                    include: [srcfoldepath],\n                    exclude: [/node_modules/],\n                },\n\n                {\n                    include: [srcfoldepath],\n                    test: /\\.tsx?$/,\n                    //  type: \"javascript/auto\",\n                    exclude: /node_modules/,\n                    use: [\n                        {\n                            loader: require.resolve(\"ts-loader\"),\n                            options: {\n                                configFile: fs.existsSync(\n                                    path.resolve(__dirname, \"tsconfig.json\")\n                                )\n                                    ? path.resolve(__dirname, \"tsconfig.json\")\n                                    : false,\n\n                                compilerOptions: {\n                                    /*   jsx: isEnvProduction\n                                        ? \"react-jsx\"\n                                        : \"react-jsxdev\",*/\n                                    sourceMap: true,\n                                    strict: true,\n                                },\n                                // getCustomTransformers: () => ({\n                                //     before: isDevelopment\n                                //         ? [ReactRefreshTypeScript()]\n                                //         : [],\n                                // }),\n                                transpileOnly: true,\n                                appendTsSuffixTo: [/\\.vue$/],\n                            },\n                        },\n                    ],\n                },\n                {\n                    test: /\\.(png|jpe?g|webp|ico|bmp|gif|svg|eot|ttf|woff|woff2)$/i,\n                    // More information here https://webpack.js.org/guides/asset-modules/\n                    type: \"asset\",\n                },\n            ],\n        },\n        plugins: [\n            // isDevelopment && new ReactRefreshWebpackPlugin(),\n            new ForkTsCheckerWebpackPlugin({\n                typescript: {\n                    configOverwrite: {\n                        compilerOptions: { skipLibCheck: true, strict: true },\n                        include: [\"src\"],\n                    },\n                    configFile: fs.existsSync(\n                        path.resolve(__dirname, \"tsconfig.json\")\n                    )\n                        ? path.resolve(__dirname, \"tsconfig.json\")\n                        : false,\n                },\n            }),\n            isEnvProduction &&\n                new CleanWebpackPlugin({\n                    verbose: true,\n                }),\n            new CopyPlugin({\n                patterns: [\n                    {\n                        globOptions: {\n                            ignore: [\"**/index.html\"],\n                        },\n                        from: path.join(__dirname, \"public\"),\n                        toType: \"dir\",\n                        to: path.join(__dirname, \"dist\"),\n                        filter: (resourcePath: string) => {\n                            console.log(\"copy-webpack-plugin\", resourcePath);\n                            return true;\n                        },\n                    },\n                ],\n            }),\n            isEnvDevelopment && new webpack.HotModuleReplacementPlugin(),\n            isEnvProduction &&\n                new WorkboxWebpackPlugin.GenerateSW({\n                    skipWaiting: true,\n                    clientsClaim: !0,\n                    runtimeCaching: [\n                        {\n                            urlPattern: /.*\\.(?:js|html|\\/)$/,\n                            handler: \"NetworkFirst\",\n                            options: {},\n                        },\n                        {\n                            urlPattern: /.*\\.(?:xml|json|md|css)$/,\n                            handler: \"StaleWhileRevalidate\",\n                            options: {},\n                        },\n                        {\n                            urlPattern: /\\.(?:png|jpg|jpeg|svg|gif)$/,\n                            handler: \"CacheFirst\",\n                            options: {\n                                cacheName: \"image-cache\",\n                                expiration: {\n                                    maxEntries: 10,\n                                },\n                            },\n                        },\n                    ],\n                }),\n            new MiniCssExtractPlugin({\n                filename: \"[name].[contenthash].css\",\n                chunkFilename: \"[name].[contenthash].css\",\n            }),\n            new VueLoaderPlugin(),\n            new HtmlWebpackPlugin({\n                hash: false,\n                filename: \"index.html\",\n                title: \" Progressive Web Application\",\n                inject: !0,\n                minify: {\n                    removeComments: !0,\n                    collapseWhitespace: !0,\n                    removeRedundantAttributes: !0,\n                    useShortDoctype: !0,\n                    removeEmptyAttributes: !0,\n                    removeStyleLinkTypeAttributes: !0,\n                    keepClosingSlash: !0,\n                    minifyJS: !0,\n                    minifyCSS: !0,\n                    minifyURLs: !0,\n                    removeAttributeQuotes: !1,\n                },\n                template: path.join(__dirname, \"public\", \"index.html\"),\n            }),\n            new PreloadWebpackPlugin({\n                rel: \"preload\",\n                include: \"asyncChunks\",\n            }),\n        ].filter(Boolean),\n        optimization: {\n            moduleIds: isEnvDevelopment ? \"named\" : \"natural\",\n            chunkIds: isEnvDevelopment ? \"named\" : \"natural\",\n            usedExports: true,\n            runtimeChunk: \"single\",\n            splitChunks: isEnvProduction\n                ? {\n                      chunks: \"all\",\n                      minSize: 30000,\n                      maxSize: 70 * 1000,\n                      minChunks: 1,\n                      maxAsyncRequests: 5,\n                      maxInitialRequests: 5,\n                      name: false,\n                      usedExports: true,\n                      cacheGroups: {\n                          styles: {\n                              name: \"styles\",\n                              type: \"css/mini-extract\",\n\n                              // For webpack@4\n                              // test: /\\.css$/,\n\n                              chunks: \"all\",\n                              enforce: true,\n                          },\n                      },\n                  }\n                : {\n                      chunks: \"all\",\n                      maxSize: 20 * 1000,\n                  },\n            minimize: isEnvProduction,\n            minimizer: [\n                new TerserPlugin({\n                    terserOptions: {\n                        ecma: 5,\n                        parse: {\n                            ecma: 8,\n                        },\n                        compress: {\n                            warnings: !1,\n                            comparisons: !1,\n                            inline: 2,\n                            drop_console: true,\n                            drop_debugger: true,\n                            pure_funcs: [\"console.log\"],\n                        },\n                        mangle: {\n                            safari10: !0,\n                        },\n                        output: {\n                            ecma: 5,\n                            comments: !1,\n                            ascii_only: !0,\n                        },\n                    },\n                    parallel: !0,\n                }),\n                new OptimizeCSSAssetsPlugin({\n                    cssProcessorPluginOptions: {\n                        preset: [\n                            \"default\",\n                            {\n                                discardComments: {\n                                    removeAll: true,\n                                },\n                                normalizeUnicode: false,\n                            },\n                        ],\n                    },\n                    canPrint: true,\n                    cssProcessorOptions: {\n                        parser: safePostCssParser,\n                        map: !!shouldUseSourceMap && {\n                            inline: !1,\n                            annotation: !0,\n                        },\n                    },\n                }),\n            ],\n        },\n    };\n\n    function afterconfig(config: Configuration) {\n        if (isEnvDevelopment) {\n            try {\n                require(\"react\");\n            } catch (error) {\n                if (error?.code === \"MODULE_NOT_FOUND\") {\n                    return;\n                } else {\n                    throw error;\n                }\n            }\n            addreactfresh(config);\n        }\n    }\n\n    function getpostcssoptions() {\n        return {\n            config: fs.existsSync(path.resolve(__dirname, \"postcss.config.js\"))\n                ? path.resolve(__dirname, \"postcss.config.js\")\n                : false,\n\n            plugins: [\n                require(\"postcss-flexbugs-fixes\"),\n                require(\"postcss-preset-env\")({\n                    autoprefixer: {\n                        flexbox: \"no-2009\",\n                    },\n                    stage: 3,\n                }),\n                postcssNormalize(),\n            ],\n        };\n    }\n\n    function getbabelconfig() {\n        return {\n            sourceMaps: shouldUseSourceMap,\n            plugins: [\n                [\n                    require.resolve(\"babel-plugin-htm\"),\n                    {\n                        pragma: \"h\",\n                        tag: \"html\",\n                        useBuiltIns: true,\n                        useNativeSpread: true,\n                    },\n                ],\n                [\n                    \"@babel/plugin-proposal-private-methods\",\n                    {\n                        loose: true,\n                    },\n                ],\n                [\n                    require.resolve(\"@babel/plugin-proposal-decorators\"),\n                    {\n                        legacy: true,\n                    },\n                ],\n                [\n                    \"@babel/plugin-proposal-class-properties\",\n                    {\n                        loose: true,\n                    },\n                ],\n            ].filter(Boolean),\n            presets: [\n                [\"@babel/preset-react\", { runtime: \"automatic\" }],\n\n                require.resolve(\"@babel/preset-typescript\"),\n                isEnvProduction && [\n                    require.resolve(\"babel-preset-react-app\"),\n                    {},\n                ],\n            ].filter(Boolean),\n            customize: require.resolve(\n                \"babel-preset-react-app/webpack-overrides\"\n            ),\n            babelrc: false,\n            configFile: fs.existsSync(\n                path.resolve(__dirname, \"babel.config.js\")\n            )\n                ? path.resolve(__dirname, \"babel.config.js\")\n                : false,\n\n            cacheDirectory: !0,\n            cacheCompression: isEnvProduction,\n            compact: isEnvProduction,\n        };\n    }\n\n    function addreactfresh(config: Configuration) {\n        const ReactRefreshWebpackPlugin =\n            require(\"@next/react-refresh-utils/ReactRefreshWebpackPlugin\").default;\n        config.entry = [\n            require.resolve(\"@next/react-refresh-utils/runtime\"),\n            ...config.entry,\n        ];\n        config.plugins = [new ReactRefreshWebpackPlugin(), ...config.plugins];\n        config.module.rules = [\n            {\n                test: /\\.(tsx|ts|js|mjs|jsx)$/,\n                include: [srcfoldepath],\n                exclude: [/node_modules/],\n                use: [require.resolve(\"@next/react-refresh-utils/loader\")],\n            },\n            ...config.module.rules,\n        ];\n    }\n    afterconfig(config);\n    return config;\n}\n"],"names":["env","argv","resolvevueloadermodulepath","vueversion","require","version","e","code","resolve","split","console","log","ForkTsCheckerWebpackPlugin","fs","CopyPlugin","WorkboxWebpackPlugin","safePostCssParser","OptimizeCSSAssetsPlugin","TerserPlugin","VueLoaderPlugin","MiniCssExtractPlugin","path","HtmlWebpackPlugin","webpack","postcssNormalize","PreloadWebpackPlugin","CleanWebpackPlugin","参数object","解析参数publicpath","mode","process","NODE_ENV","port","Number","parseInt","String","Math","random","__filename","cwd","__dirname","webpackEnv","isEnvDevelopment","shouldUseSourceMap","isEnvProduction","BABEL_ENV","publicPath","length","isservemode","WEBPACK_SERVE","srcfoldepath","join","config","stats","children","target","extensions","alias","devServer","overlay","host","compress","historyApiFallback","contentBase","hot","inline","watchContentBase","devtool","entry","existsSync","filter","Boolean","output","globalObject","filename","chunkFilename","module","strictExportPresence","rules","test","type","loader","options","sourceMaps","plugins","pragma","tag","useBuiltIns","useNativeSpread","loose","legacy","presets","runtime","customize","babelrc","configFile","cacheDirectory","cacheCompression","compact","include","exclude","use","importLoaders","sourceMap","postcssOptions","getpostcssoptions","helpers","compilerOptions","strict","transpileOnly","appendTsSuffixTo","typescript","configOverwrite","skipLibCheck","verbose","patterns","globOptions","ignore","from","toType","to","resourcePath","HotModuleReplacementPlugin","GenerateSW","skipWaiting","clientsClaim","runtimeCaching","urlPattern","handler","cacheName","expiration","maxEntries","hash","title","inject","minify","removeComments","collapseWhitespace","removeRedundantAttributes","useShortDoctype","removeEmptyAttributes","removeStyleLinkTypeAttributes","keepClosingSlash","minifyJS","minifyCSS","minifyURLs","removeAttributeQuotes","template","rel","optimization","moduleIds","chunkIds","usedExports","runtimeChunk","splitChunks","chunks","minSize","maxSize","minChunks","maxAsyncRequests","maxInitialRequests","name","cacheGroups","styles","enforce","minimize","minimizer","terserOptions","ecma","parse","warnings","comparisons","drop_console","drop_debugger","pure_funcs","mangle","safari10","comments","ascii_only","parallel","cssProcessorPluginOptions","preset","discardComments","removeAll","normalizeUnicode","canPrint","cssProcessorOptions","parser","map","annotation","autoprefixer","flexbox","stage","error","ReactRefreshWebpackPlugin","default","addreactfresh","afterconfig"],"mappings":"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"}